<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Elisp notes</title>
<meta name="generator" content="Org Mode" />
<style type="text/css">
/* Base */html,body {    background-color: #222;    min-height: 100%;    line-height: 1.5;}body {    color: #fafafa;    font-family: "Courier New";}::selection {    background-color:  #2ecc40;    color: white;}/* Responsive content positioning */@media only screen and (min-width: 1020px) /* Large screens */{    body{        padding: 10vh 25vw;    }}@media only screen and (max-width: 1020px) and (min-width: 750px) /* Small screens */{    body{        padding: 5vh 10vw;    }}@media only screen and (max-width: 750px) /* Small screens */{    body{        padding: 2vh 5vw;    }}/* Headers */h1{font-size: 2.5rem;}h2{font-size: 1.7rem;}h1 > .subtitle, h3, h4, h5, h6{font-size: 1.3rem;}.title{    margin-bottom: 2.5rem;}/* Padding & Margin */* {margin: 0; padding: 0;}pre, blockquote, ul, ol, p, table{    margin: 1rem 0;}h1, h2{margin-top: 2rem; line-height: 2rem;}h3, h4, h5, h6{margin-top: 1rem;}/* Links  */a, a:visited {    color: #01ff70;    text-decoration: underline;}a:hover, a:focus, a:active {    color: #2ecc40;}/* Code */pre {    font-family: "Courier New";    padding: .5rem;    background-color: #333;    padding: 0.5rem;    border-radius: 0.2rem;    font-size: 0.9rem;    color: #EEE;    overflow-x: auto;}.org-keyword{    color: #01ff70;}.org-rainbow-delimiters-depth-1{    color: #2ecc40;}.org-rainbow-delimiters-depth-2{    color: #01ff70;}/* Blockquotes */blockquote {    border-left: 3px solid #01ff70;    padding-left: 1rem;}li{    list-style-position: inside;}/* Tags */.tag{    margin-top: 0.5rem;    display: block;    color: white;    font-size: var(--font-size-xsmall);}.tag > span{		font-weight: 400;    font-size: 0.8rem;    background-color: #444;    text-transform: uppercase;    border-radius: 2px;    width: fit-content;    height: auto;    padding: 1px 5px;}/* Keywords */.todo{    color: #2ecc40;}.done{    color: #444;}/* Overflows */.outline-text-2, .outline-text-3, .outline-text-4{	  max-width: 100%;	  overflow-x: auto;}/* Table */tr:nth-child(even) {    background-color: #333;}th, td{    padding: 0.5rem;    text-align: center;}.underline{    text-decoration: underline;}img{    max-width: 100%;    height: auto;}
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Elisp notes</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgacf6cb4">Functions</a></li>
<li><a href="#org921d7bf">Types</a></li>
<li><a href="#orgd99085e">Quote</a></li>
<li><a href="#org67c3308">Quasiquote</a></li>
<li><a href="#orgc802cd5">Interactive functions</a></li>
<li><a href="#orgdd56f20">Key bindings</a></li>
<li><a href="#orgc8c52c6">Conditions statements</a>
<ul>
<li><a href="#org5d8e0f2">if</a></li>
<li><a href="#org5a7d6b0">when, unless</a></li>
<li><a href="#org6426389">and, or, not</a></li>
<li><a href="#org0fcb36e">progn</a></li>
</ul>
</li>
<li><a href="#orgdda5dda">Vars</a></li>
<li><a href="#orgf7ba143">Lists</a></li>
<li><a href="#org9686e39">Iterations</a>
<ul>
<li><a href="#org3a26f5a">cl-loop</a></li>
<li><a href="#org682a71c">while</a></li>
<li><a href="#orge9307fd">dolist</a></li>
</ul>
</li>
<li><a href="#org0d30a40">Hooks</a></li>
<li><a href="#orged0766c">Temp vars</a></li>
<li><a href="#orgf827a67">Links</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgacf6cb4" class="outline-2">
<h2 id="orgacf6cb4">Functions</h2>
<div class="outline-text-2" id="text-orgacf6cb4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">bz/add</span> (num)
  (+ num 1))

(bz/add 2)
</pre>
</div>
</div>
</div>

<div id="outline-container-org921d7bf" class="outline-2">
<h2 id="org921d7bf">Types</h2>
<div class="outline-text-2" id="text-org921d7bf">
<ul class="org-ul">
<li>numbers  1</li>
<li>strings  "Hi"</li>
<li>symbols  'hello</li>
<li>chars ?h</li>
<li>true t</li>
<li>false nil</li>
<li>pairs (cons 1 2)</li>
<li>lists (list 1 2 3)</li>
</ul>

<p>
Can be evaluated with C-x C-e
</p>
</div>
</div>

<div id="outline-container-orgd99085e" class="outline-2">
<h2 id="orgd99085e">Quote</h2>
<div class="outline-text-2" id="text-orgd99085e">
<p>
Tells not to evaluate the expression.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">'(+ 1 2)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">'i-am-not-a-expression-just-a-symbol
</pre>
</div>
</div>
</div>

<div id="outline-container-org67c3308" class="outline-2">
<h2 id="org67c3308">Quasiquote</h2>
<div class="outline-text-2" id="text-org67c3308">
<p>
Allows to unquote and expression.
Comma means "to unquote".
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">`(1 2 ,(+ 1 2))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">2</td>
<td class="org-right">3</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgc802cd5" class="outline-2">
<h2 id="orgc802cd5">Interactive functions</h2>
<div class="outline-text-2" id="text-orgc802cd5">
<p>
Can be used as a command in emacs through M-x.
<code>(interactive)</code> should be used inside a function.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">insert-numbers</span> ()
  <span style="font-style: italic;">"insert a sequence of numbers"</span> <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">docstring</span>
  (<span style="font-weight: bold;">interactive</span>)
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(insert "1 2 3"))</span>
  (message <span style="font-style: italic;">"1 2 3"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdd56f20" class="outline-2">
<h2 id="orgdd56f20">Key bindings</h2>
<div class="outline-text-2" id="text-orgdd56f20">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="font-style: italic;">"C-S-s"</span>) 'insert-numbers
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(keymap-global-set <span style="font-style: italic;">"C-S-s"</span> 'insert-numbers) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">for newer emacs versions</span>
</pre>
</div>

<p>
If there is no need to set it globally, it can be done for a specific mode using <code>keymap-set</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">c--insert-if</span> ()
  (<span style="font-weight: bold;">interactive</span>)
  (insert <span style="font-style: italic;">"if () {\n}"</span>))
(keymap-set c-mode-map <span style="font-style: italic;">"C-S-s"</span>, 'c--insert-if)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc8c52c6" class="outline-2">
<h2 id="orgc8c52c6">Conditions statements</h2>
<div class="outline-text-2" id="text-orgc8c52c6">
</div>
<div id="outline-container-org5d8e0f2" class="outline-3">
<h3 id="org5d8e0f2">if</h3>
<div class="outline-text-3" id="text-org5d8e0f2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">if</span> t
    'it-was-true 'it-was-false)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">if</span> nil
    'it-was-true 'it-was-false)
</pre>
</div>

<p>
Anything but <code>nil</code> is true
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">if</span> 'anything
    'it-was-true 'it-was-false)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5a7d6b0" class="outline-3">
<h3 id="org5a7d6b0">when, unless</h3>
<div class="outline-text-3" id="text-org5a7d6b0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">when</span> t 'this-is-true)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">unless</span> nil 'this-is-false)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6426389" class="outline-3">
<h3 id="org6426389">and, or, not</h3>
<div class="outline-text-3" id="text-org6426389">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">and</span> t nil)
(<span style="font-weight: bold;">or</span> t nil)
(not t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0fcb36e" class="outline-3">
<h3 id="org0fcb36e">progn</h3>
<div class="outline-text-3" id="text-org0fcb36e">
<p>
In Elisp the last expression to be evaluated is returned.
This can be a problem if we need to perform a bunch of operations in an if statement.
Solved with <code>progn</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">if</span> t
    (<span style="font-weight: bold;">progn</span>
      (message <span style="font-style: italic;">"print text and"</span>)
      'do-something-else)
  'this-is-false)
</pre>
</div>

<p>
<code>progn</code> evals everything and returns the last one.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">progn</span> 1 2 3)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdda5dda" class="outline-2">
<h2 id="orgdda5dda">Vars</h2>
<div class="outline-text-2" id="text-orgdda5dda">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> some-existing-var t)
(<span style="font-weight: bold;">defvar</span> <span style="font-weight: bold; font-style: italic;">new-var</span> <span style="font-style: italic;">"something"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7ba143" class="outline-2">
<h2 id="orgf7ba143">Lists</h2>
<div class="outline-text-2" id="text-orgf7ba143">
<p>
The list is a chain of cons cell types (pairs).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(cons 1 (cons 2 nil))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">2</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org9686e39" class="outline-2">
<h2 id="org9686e39">Iterations</h2>
<div class="outline-text-2" id="text-org9686e39">
</div>
<div id="outline-container-org3a26f5a" class="outline-3">
<h3 id="org3a26f5a">cl-loop</h3>
<div class="outline-text-3" id="text-org3a26f5a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">cl-loop</span> for i from 0 to 10
         collect (* i i))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">4</td>
<td class="org-right">9</td>
<td class="org-right">16</td>
<td class="org-right">25</td>
<td class="org-right">36</td>
<td class="org-right">49</td>
<td class="org-right">64</td>
<td class="org-right">81</td>
<td class="org-right">100</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org682a71c" class="outline-3">
<h3 id="org682a71c">while</h3>
<div class="outline-text-3" id="text-org682a71c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> my/val 0)
(<span style="font-weight: bold;">setq</span> my/truth t)
(<span style="font-weight: bold;">while</span> my/truth
  (<span style="font-weight: bold;">if</span> (= my/val 10)
      (<span style="font-weight: bold;">setq</span> my/truth nil))
  (message <span style="font-style: italic;">"%s"</span> (<span style="font-weight: bold;">setq</span> my/val (1+ my/val))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge9307fd" class="outline-3">
<h3 id="orge9307fd">dolist</h3>
<div class="outline-text-3" id="text-orge9307fd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> total 0)
(<span style="font-weight: bold;">dolist</span> (i '(1 2 3)) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">for i in '(1 2 3)</span>
  (<span style="font-weight: bold;">setq</span> total (+ total i)))
total
</pre>
</div>

<pre class="example">
6
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d30a40" class="outline-2">
<h2 id="org0d30a40">Hooks</h2>
<div class="outline-text-2" id="text-org0d30a40">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">my-func</span>()
  (<span style="font-weight: bold;">interactive</span>)
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">do something</span>
  (run-hook 'my-func-hook))

(add-hook 'my-func-hook (<span style="font-weight: bold;">lambda</span> () (insert <span style="font-style: italic;">"1"</span>)))
(add-hook 'my-func-hook (<span style="font-weight: bold;">lambda</span> () (insert <span style="font-style: italic;">"2"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orged0766c" class="outline-2">
<h2 id="orged0766c">Temp vars</h2>
<div class="outline-text-2" id="text-orged0766c">
<p>
Use <code>let</code> if you want to have function local vars.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">my-func</span> ()
  (<span style="font-weight: bold;">let</span> (
        (four (+ 2 2))
        (five 5)
        )
    (- four five)))
(my-func)
</pre>
</div>

<pre class="example">
-1
</pre>
</div>
</div>

<div id="outline-container-orgf827a67" class="outline-2">
<h2 id="orgf827a67">Links</h2>
<div class="outline-text-2" id="text-orgf827a67">
<ul class="org-ul">
<li><a href="https://www.youtube.com/watch?v=1y__2IK-aLM">https://www.youtube.com/watch?v=1y__2IK-aLM</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.3 (<a href="https://orgmode.org">Org</a> mode 9.6.15)</p>
</div>
</body>
</html>
